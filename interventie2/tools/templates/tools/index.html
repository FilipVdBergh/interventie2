{% extends 'base.html' %}

{% block page_title %}
    Selectietools
{% endblock %}

{% block tabs %}
    <div class="tab_bar">
        <button class="tablinks" onclick="switch_tab(event, 'st_all')" id="defaultOpen">Selectietools</button>
        <button class="tablinks" onclick="switch_tab(event, 'st_filter')">Filter werksessies</button>
        <button class="tablinks" onclick="switch_tab(event, 'st_options')">Opties</button>
    </div>
{% endblock %}

{% block search %}
    {% include 'search.html' %}
{% endblock %}

{% block body %}
    <div id="st_all" class="tabcontent">
        <div class="card_area">
            <a href="{{ url_for('tools.edit_question_set') }}">
                <div class="card new">
                    <div class="card_title">
                        Nieuwe selectietool maken
                    </div>
                    <div class="card_description">
                        Klik hier om een nieuwe selectietool te maken.
                    </div>
                </div>
            </a>
            <a href="{{ url_for('tools.import_question_set') }}">
                <div class="card new">
                    <div class="card_title">
                        Selectietool importeren
                    </div>
                    <div class="card_description">
                        Klik hier om een selectietool te importeren uit een JSON-bestand.
                    </div>
                </div>
            </a>

            {% for question_set in question_sets | sort(attribute="name") %}
                <a href="{{url_for('tools.design_question_set', question_set_id=question_set.id)}}">
                    <div class="card">
                        <div class="card_title">
                            {{ question_set.name }}
                        </div>
                        <div class="card_description">
                            {{ question_set.description | escape | markdown }}
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>
    </div>

    <div id="st_filter" class="tabcontent">
        <div class="text_area">
            {% for question_set in question_sets | sort(attribute="name") %}
            <a href="{{ url_for('tools.list_worksessions', question_set_id=question_set.id) }}">
                    <div class="card">
                        <div class="card_title">
                            {{ question_set.name }}
                        </div>
                        <div class="card_description">
                            {{ question_set.description | escape | markdown }}
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>
    </div>

    <div id="st_options" class="tabcontent">
        <div class="card_area">
            {% if current_user.role.edit_questionnaire %}
                <div class="option_header">Opties</div>
                <a href="{{ url_for('catalog.tags') }}"><div class="option">Taglijst aanpassen</div></a>
            {% endif %}
        </div>
    </div>


{% endblock %}